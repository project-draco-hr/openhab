{
  if (cachedServices.containsKey(transformationType)) {
    return cachedServices.get(transformationType);
  }
  if (context != null) {
    String filter="(openhab.transform=" + transformationType + ")";
    try {
      Collection<ServiceReference<TransformationService>> refs=context.getServiceReferences(TransformationService.class,filter);
      if (refs != null && refs.size() > 0) {
        TransformationService service=(TransformationService)context.getService(refs.iterator().next());
        cachedServices.put(transformationType,service);
        return service;
      }
 else {
        logger.warn("Cannot get service reference for transformation service of type " + transformationType);
      }
    }
 catch (    InvalidSyntaxException e) {
      logger.warn("Cannot get service reference for transformation service of type " + transformationType,e);
    }
  }
  return null;
}
