{
  if (this.initializationComplete == true) {
    return;
  }
  if (event instanceof ZWaveTransactionCompletedEvent) {
    ZWaveTransactionCompletedEvent completeEvent=(ZWaveTransactionCompletedEvent)event;
    SerialMessage serialMessage=completeEvent.getCompletedMessage();
    byte[] payload=serialMessage.getMessagePayload();
    if (payload.length == 0 || this.node.getNodeId() != (payload[0] & 0xFF)) {
      return;
    }
switch (serialMessage.getMessageClass()) {
case SendData:
case IdentifyNode:
case RequestNodeInfo:
case GetRoutingInfo:
      logger.debug("NODE {}: Initialisation transaction complete event ({}:{}) success({})",this.node.getNodeId(),serialMessage.getMessageClass(),serialMessage.getMessageType(),completeEvent.getState());
    if (((ZWaveTransactionCompletedEvent)event).getState()) {
      handleNodeQueue(serialMessage);
    }
  break;
default :
}
}
 else if (event instanceof ZWaveWakeUpCommandClass.ZWaveWakeUpEvent) {
if (((ZWaveWakeUpCommandClass.ZWaveWakeUpEvent)event).getEvent() != ZWaveWakeUpCommandClass.WAKE_UP_NOTIFICATION) {
return;
}
if (this.node.getNodeId() != event.getNodeId()) {
return;
}
logger.debug("NODE {}: Wakeup during initialisation.",this.node.getNodeId());
if (currentStage == NodeStage.PING) {
currentStage=currentStage.getNextStage();
this.msgQueue.clear();
}
advanceNodeStage(null);
}
 else if (event instanceof ZWaveNodeStatusEvent) {
ZWaveNodeStatusEvent statusEvent=(ZWaveNodeStatusEvent)event;
if (this.node.getNodeId() != event.getNodeId()) {
return;
}
logger.debug("NODE {}: Node Status event during initialisation - Node is {}",statusEvent.getNodeId(),statusEvent.getState());
switch (statusEvent.getState()) {
case Dead:
case Failed:
break;
case Alive:
advanceNodeStage(null);
break;
}
}
}
