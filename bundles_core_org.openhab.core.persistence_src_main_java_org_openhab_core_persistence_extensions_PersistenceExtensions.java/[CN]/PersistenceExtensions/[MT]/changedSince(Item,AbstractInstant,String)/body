{
  Iterable<HistoricItem> result=getAllStatesSince(item,timestamp,serviceName);
  Iterator<HistoricItem> it=result.iterator();
  HistoricItem itemThen=historicState(item,timestamp);
  if (itemThen == null) {
    return (it.hasNext());
  }
  State state=itemThen.getState();
  while (it.hasNext()) {
    HistoricItem hItem=it.next();
    if (state != null && !hItem.getState().equals(state)) {
      return true;
    }
    state=hItem.getState();
  }
  return false;
}
