{
  Collection<InsteonHubBindingConfig> configs=InsteonHubBindingConfigUtil.getConfigsForHub(providers,hubId);
  for (  InsteonHubBindingConfig config : configs) {
    try {
      int level=proxy.getLevel(config.getDevice());
      if (config.getBindingType() == BindingType.digital) {
        State update=level > 0 ? OnOffType.ON : OnOffType.OFF;
        eventPublisher.postUpdate(config.getItemName(),update);
      }
 else       if (config.getBindingType() == BindingType.analog) {
        State update=new PercentType(levelToPercent(level));
        eventPublisher.postUpdate(config.getItemName(),update);
      }
    }
 catch (    IOException e) {
      InsteonHubBindingLogUtil.warnCommunicationFailure(logger,proxy,config.getDevice(),e);
      break;
    }
  }
}
