{
  DeviceMeasureValueMap deviceMeasureValueMap=new DeviceMeasureValueMap();
  for (  final MeasurementRequest request : createMeasurementRequests()) {
    final MeasurementResponse response=request.execute();
    logger.debug("Request: {}",request);
    logger.debug("Response: {}",response);
    if (response.isError()) {
      final NetatmoError error=response.getError();
      if (error.isAccessTokenExpired()) {
        oauthCredentials.refreshAccessToken();
        execute();
      }
 else {
        throw new NetatmoException(error.getMessage());
      }
      break;
    }
 else {
      processMeasurementResponse(request,response,deviceMeasureValueMap);
    }
  }
  return deviceMeasureValueMap;
}
