{
  triggerManager=new RuleTriggerManager();
  if (!isEnabled()) {
    logger.info("Rule engine is disabled.");
    return;
  }
  logger.debug("Started rule engine");
  Iterable<String> ruleModelNames=modelRepository.getAllModelNamesOfType("rules");
  ArrayList<String> clonedList=Lists.newArrayList(ruleModelNames);
  for (  String ruleModelName : clonedList) {
    EObject model=modelRepository.getModel(ruleModelName);
    if (model instanceof RuleModel) {
      RuleModel ruleModel=(RuleModel)model;
      triggerManager.addRuleModel(ruleModel);
    }
  }
  for (  Item item : itemRegistry.getItems()) {
    internalItemAdded(item);
  }
  runStartupRules();
}
