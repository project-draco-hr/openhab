{
  for (  EObject itemCfg : config.getItems()) {
    if (itemCfg instanceof AllConfig) {
      return itemRegistry.getItems();
    }
  }
  Set<Item> items=new HashSet<Item>();
  for (  EObject itemCfg : config.getItems()) {
    if (itemCfg instanceof ItemConfig) {
      ItemConfig singleItemConfig=(ItemConfig)itemCfg;
      try {
        Item item=itemRegistry.getItem(singleItemConfig.getItem());
        items.add(item);
      }
 catch (      ItemNotFoundException e) {
        logger.warn("Item '{}' does not exist and thus will not be persisted.",singleItemConfig.getItem());
      }
    }
    if (itemCfg instanceof GroupConfig) {
      GroupConfig groupItemCfg=(GroupConfig)itemCfg;
      String groupName=groupItemCfg.getGroup();
      try {
        Item gItem=itemRegistry.getItem(groupName);
        if (gItem instanceof GroupItem) {
          GroupItem groupItem=(GroupItem)gItem;
          items.addAll(Arrays.asList(groupItem.getAllMembers()));
        }
      }
 catch (      ItemNotFoundException e) {
        logger.warn("Item group '{}' does not exist and thus its members will not be persisted.",groupName);
      }
    }
  }
  return items;
}
