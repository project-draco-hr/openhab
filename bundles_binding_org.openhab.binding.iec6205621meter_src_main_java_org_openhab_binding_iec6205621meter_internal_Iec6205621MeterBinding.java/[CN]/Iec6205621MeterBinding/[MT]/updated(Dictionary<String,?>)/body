{
  if (config == null || config.isEmpty()) {
    logger.warn("Empty or null configuration. Ignoring.");
    return;
  }
  Set<String> names=getNames(config);
  for (  String name : names) {
    String value=(String)config.get(name + ".serialPort");
    String serialPort=value != null ? value : MeterDeviceConfig.DEFAULT_SERIAL_PORT;
    value=(String)config.get(name + ".baudRateChangeDelay");
    int baudRateChangeDelay=value != null ? Integer.valueOf(value) : MeterDeviceConfig.DEFAULT_BAUD_RATE_CHANGE_DELAY;
    value=(String)config.get(name + ".echoHandling");
    boolean echoHandling=value != null ? Boolean.valueOf(value) : MeterDeviceConfig.DEFAULT_ECHO_HANDLING;
    MeterReader reader=createIec6205621MeterReader(name,new MeterDeviceConfig(serialPort,baudRateChangeDelay,echoHandling));
    if (meterDevices.put(reader.getName(),reader) != null) {
      logger.info("Recreated reader {} with  {}!",reader.getName(),reader.getConfig());
    }
 else {
      logger.info("Created reader {} with  {}!",reader.getName(),reader.getConfig());
    }
  }
  if (config != null) {
    if (StringUtils.isNotBlank((String)config.get("refresh"))) {
      refreshInterval=Long.parseLong((String)config.get("refresh"));
    }
    setProperlyConfigured(true);
  }
}
