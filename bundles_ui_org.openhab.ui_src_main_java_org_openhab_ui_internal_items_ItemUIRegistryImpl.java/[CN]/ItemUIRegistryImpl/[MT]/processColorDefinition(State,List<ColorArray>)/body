{
  if (colorList == null)   return null;
  if (colorList.size() == 0)   return null;
  String colorString=null;
  if (colorList.size() == 1 && colorList.get(0).getState() == null)   colorString=colorList.get(0).getArg();
 else {
    for (    ColorArray color : colorList) {
      if (color.getState() == null) {
        logger.error("Error parsing color");
        continue;
      }
      String value;
      if (color.getSign() != null)       value=color.getSign() + color.getState();
 else       value=color.getState();
      if (matchStateToValue(state,value,color.getCondition()) == true) {
        colorString=color.getArg();
        break;
      }
    }
  }
  if (colorString == null)   return null;
  if (colorString.startsWith("\"") && colorString.endsWith("\""))   colorString=colorString.substring(1,colorString.length() - 1);
  return colorString;
}
