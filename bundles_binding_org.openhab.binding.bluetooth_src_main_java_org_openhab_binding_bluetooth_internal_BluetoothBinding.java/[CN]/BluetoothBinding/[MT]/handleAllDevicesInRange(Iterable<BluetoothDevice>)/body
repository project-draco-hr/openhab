{
  if (eventPublisher != null) {
    StringBuilder sb=new StringBuilder();
    int noOfDevices=0;
    for (    BluetoothDevice device : devices) {
      noOfDevices++;
      handleDeviceInRange(device);
      if (!device.getFriendlyName().trim().isEmpty()) {
        sb.append(device.getFriendlyName());
      }
 else {
        sb.append(device.getAddress());
      }
      if (device.isPaired()) {
        sb.append(" !");
      }
      sb.append(", ");
    }
    String deviceList=sb.length() > 0 ? sb.substring(0,sb.length() - 2) : "-";
    for (    String itemName : stringItems.values()) {
      eventPublisher.postUpdate(itemName,StringType.valueOf(deviceList));
    }
    for (    String itemName : measurementItems.values()) {
      eventPublisher.postUpdate(itemName,new DecimalType(noOfDevices));
    }
  }
}
