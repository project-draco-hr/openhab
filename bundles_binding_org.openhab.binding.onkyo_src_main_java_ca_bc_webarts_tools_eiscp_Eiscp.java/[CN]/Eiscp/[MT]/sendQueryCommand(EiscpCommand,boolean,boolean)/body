{
  String retVal="";
  sendCommand(command,false);
  Vector<String> rv=readQueryResponses();
  String currResponse="";
  for (int i=0; i < rv.size(); i++) {
    currResponse=(String)rv.elementAt(i);
    String commandStr=command.getCommand();
    if (returnAll || currResponse.startsWith(commandStr.substring(0,3))) {
      retVal+=currResponse + "\n";
    }
  }
  if (closeSocket) {
    closeSocket();
  }
  return retVal;
}
