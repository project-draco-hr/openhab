{
  ItemUIRegistry itemUIRegistry=RESTApplication.getItemUIRegistry();
  Sitemap sitemap=getSitemap(sitemapName);
  if (sitemap != null) {
    Widget pageWidget=itemUIRegistry.getWidget(sitemap,pageId);
    if (pageWidget instanceof LinkableWidget) {
      logger.debug("Received HTTP GET request at '{}'.",uriInfo.getPath());
      return createPageBean(sitemapName,pageId,(itemUIRegistry.getChildren((LinkableWidget)pageWidget)));
    }
 else {
      if (logger.isDebugEnabled()) {
        if (pageWidget == null) {
          logger.debug("Received HTTP GET request at '{}' for the unknown page id '{}'.",uriInfo.getPath(),pageId);
        }
 else {
          logger.debug("Received HTTP GET request at '{}' for the page id '{}'. " + "This id refers to a non-linkable widget and is therefore no valid page id.",uriInfo.getPath(),pageId);
        }
      }
      throw new WebApplicationException(404);
    }
  }
 else {
    logger.info("Received HTTP GET request at '{}' for the unknown sitemap '{}'.",uriInfo.getPath(),sitemapName);
    throw new WebApplicationException(404);
  }
}
