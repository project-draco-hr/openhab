{
  if (ip != null && !ip.isEmpty()) {
    try {
      link=new KNXNetworkLinkIP(ip,new KNXMediumSettings(null){
        public short getMedium(){
          return KNXMediumSettings.MEDIUM_TP1;
        }
      }
);
      link.addLinkListener(new NetworkLinkListener(){
        public void linkClosed(        CloseEvent e){
          if (!e.isUserRequest())           connect();
        }
        public void indication(        FrameEvent e){
        }
        public void confirmation(        FrameEvent e){
        }
      }
);
      pc=new ProcessCommunicatorImpl(link);
      pc.setResponseTimeout(10);
      if (listener != null) {
        pc.addProcessListener(listener);
      }
      logger.info("Established connection to KNX bus on IP {}.",ip);
    }
 catch (    KNXException e) {
      logger.error("Error connecting to KNX bus",e);
    }
  }
 else {
    logger.error("No IP address could be found in configuration!");
  }
}
