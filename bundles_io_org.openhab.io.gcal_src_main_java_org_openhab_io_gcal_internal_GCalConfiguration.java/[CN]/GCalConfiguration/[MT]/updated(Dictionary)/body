{
  if (config != null) {
    String usernameString=(String)config.get("username");
    username=usernameString;
    if (StringUtils.isBlank(username)) {
      throw new ConfigurationException("gcal:username","username must not be blank - please configure an aproppriate username in openhab.cfg");
    }
    String passwordString=(String)config.get("password");
    password=passwordString;
    if (StringUtils.isBlank(password)) {
      throw new ConfigurationException("gcal:password","password must not be blank - please configure an aproppriate password in openhab.cfg");
    }
    String urlString=(String)config.get("url");
    url=urlString;
    if (StringUtils.isBlank(url)) {
      throw new ConfigurationException("gcal:url","url must not be blank - please configure an aproppriate url in openhab.cfg");
    }
    String refreshString=(String)config.get("refresh");
    if (StringUtils.isNotBlank(refreshString)) {
      refreshInterval=Integer.parseInt(refreshString);
    }
    String offsetString=(String)config.get("offset");
    if (StringUtils.isNotBlank(offsetString)) {
      try {
        offset=Integer.valueOf(offsetString);
      }
 catch (      IllegalArgumentException iae) {
        logger.warn("couldn't parse '{}' to an integer");
      }
    }
    initialized=true;
  }
}
