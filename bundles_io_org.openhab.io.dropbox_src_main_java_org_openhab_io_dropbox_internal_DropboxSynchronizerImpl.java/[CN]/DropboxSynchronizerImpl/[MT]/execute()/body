{
  try {
    dropbox=new DropboxAPI<WebAuthSession>(getSession());
    if (dropbox != null) {
switch (syncMode) {
case DROPBOX_TO_LOCAL:
        syncDropboxToLocal(dropbox);
      break;
case LOCAL_TO_DROPBOX:
    syncLocalToDropbox(dropbox);
  break;
case BIDIRECTIONAL:
syncBidirectional(dropbox);
break;
default :
throw new IllegalArgumentException("Unknown SyncMode '" + syncMode.toString() + "'");
}
}
 else {
logger.debug("DropboxAPI hasn't been initialized properly!");
}
}
 catch (DropboxException de) {
logger.error("Interaction with Dropbox API throws an exception",de);
}
}
