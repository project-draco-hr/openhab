{
  logger.debug("Started synchronization from Dropbox to local ...");
  WebAuthSession session=getSession();
  if (session == null) {
    return;
  }
  DropboxAPI<WebAuthSession> dropbox=new DropboxAPI<WebAuthSession>(session);
  File cursorFile=new File(contentDir + DELTA_CURSOR_FILE_NAME);
  if (lastCursor == null) {
    lastCursor=extractDeltaCursor(cursorFile);
    logger.trace("Last cursor was NULL and has now been recreated from the filesystem (file='{}', cursor='{}')",cursorFile.getAbsolutePath(),lastCursor);
  }
  DeltaPage<Entry> deltaPage=dropbox.delta(lastCursor);
  if (deltaPage.reset && initializeDropboxOnReset) {
    logger.info("Forward to upload first, because a Dropbox initialization is requested.");
    syncLocalToDropbox();
    return;
  }
  if (deltaPage.entries != null && deltaPage.entries.size() == 0) {
    logger.debug("There are no deltas to download from Dropbox ...");
  }
 else {
    do {
      logger.debug("There are '{}' deltas to download from Dropbox ...",deltaPage.entries.size());
      for (      DeltaEntry<Entry> entry : deltaPage.entries) {
        boolean matches=false;
        for (        String filter : downloadFilterElements) {
          matches|=entry.lcPath.matches(filter);
        }
        if (matches) {
          if (entry.metadata != null) {
            downloadFile(dropbox,entry);
          }
 else {
            String fqPath=contentDir + entry.lcPath;
            deleteLocalFile(fqPath);
          }
        }
 else {
          logger.trace("skipped file '{}' since it doesn't match the given filter arguments.");
        }
      }
      deltaPage=dropbox.delta(lastCursor);
    }
 while (deltaPage.hasMore);
  }
  writeLastCursorFile(deltaPage,cursorFile);
}
