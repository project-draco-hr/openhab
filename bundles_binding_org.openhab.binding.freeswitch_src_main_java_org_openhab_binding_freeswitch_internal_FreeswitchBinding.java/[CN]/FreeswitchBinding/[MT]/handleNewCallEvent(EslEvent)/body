{
  String uuid=getHeader(event,FS_UUID);
  logger.debug("Adding Call with uuid " + uuid);
  Channel channel=new Channel(event);
  if (eventCache.containsKey(uuid))   return;
  eventCache.put(uuid,channel);
  itemMap.put(uuid,new LinkedList<FreeswitchBindingConfig>());
  CallType call=channel.getCall();
  logger.debug(String.format("new call to : %s from : %s",call.getDestNum(),call.getOrigNum()));
  for (  FreeswitchBindingProvider provider : providers) {
    for (    String itemName : provider.getItemNames()) {
      FreeswitchBindingConfig config=provider.getFreeswitchBindingConfig(itemName);
      if (config.getType() == FreeswitchBindingType.ACTIVE) {
        if (config.filtered()) {
          logger.debug(String.format("Trying to match filter string %s",config.getArgument()));
          String[] filters=config.getArgument().split(",");
          boolean matched=true;
          for (          String filterString : filters) {
            String[] args=filterString.split(":");
            if (args.length == 2 && StringUtils.isNotBlank(args[0]) && StringUtils.isNotBlank(args[1])) {
              String value=channel.getEventHeader(args[0]);
              try {
                if (StringUtils.isBlank(value) || !args[1].equals(URLDecoder.decode(value,"UTF-8"))) {
                  matched=false;
                }
              }
 catch (              UnsupportedEncodingException e) {
                logger.warn("Could not decode header",e);
                matched=false;
              }
            }
 else {
              logger.warn("The filter string does not look valid, not updating item");
              matched=false;
            }
            if (!matched)             break;
          }
          if (matched) {
            itemMap.get(uuid).add(config);
            newCallItemUpdate(config,channel);
          }
        }
 else {
          String direction=channel.getEventHeader("Call-Direction");
          if (StringUtils.isNotBlank(direction) && "inbound".equals(direction)) {
            itemMap.get(uuid).add(config);
            newCallItemUpdate(config,channel);
          }
        }
      }
    }
  }
}
