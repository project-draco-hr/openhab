{
  EcoTouchTags tag=null;
  for (  EcoTouchBindingProvider provider : providers) {
    try {
      tag=provider.getTypeForItemName(itemName);
      break;
    }
 catch (    Exception e) {
    }
  }
  EcoTouchConnector connector=new EcoTouchConnector(ip,username,password,cookies);
  int value=0;
switch (tag.getType()) {
case Analog:
    value=(int)(Double.parseDouble(command.toString()) * 10);
  break;
case Word:
value=Integer.parseInt(command.toString());
break;
case Bitfield:
try {
value=connector.getValue(tag.getTagName());
int bitmask=1 << tag.getBitNum();
if (Integer.parseInt(command.toString()) == 0) {
value=value & ~bitmask;
}
 else value=value | bitmask;
}
 catch (Exception e1) {
e1.printStackTrace();
return;
}
}
try {
connector.setValue(tag.getTagName(),value);
}
 catch (Exception e) {
e.printStackTrace();
}
}
