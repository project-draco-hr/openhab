{
  long startTime=System.currentTimeMillis();
  String remoteAddr=request.getRemoteAddr();
  try {
    return isExternalIp(remoteAddr);
  }
 catch (  UnknownHostException uhe) {
    logger.error(uhe.getLocalizedMessage());
  }
catch (  IllegalArgumentException iae) {
    logger.warn("couldn't parse '{}' to a valid ip address",remoteAddr);
  }
 finally {
    logger.debug("checking ip is in range took {}ms",System.currentTimeMillis() - startTime);
  }
  return true;
}
