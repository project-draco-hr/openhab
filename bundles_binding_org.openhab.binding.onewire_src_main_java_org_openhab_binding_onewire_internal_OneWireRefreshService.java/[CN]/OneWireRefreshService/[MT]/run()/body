{
  logger.info("refresh thread started [refresh interval {}ms]",OneWireRefreshService.refreshInterval);
  while (!interrupted) {
    if (owc != null) {
      for (      OneWireBindingProvider provider : providers) {
        for (        String itemName : provider.getItemNames()) {
          String sensorId=provider.getSensorId(itemName);
          String unitId=provider.getUnitId(itemName);
          if (sensorId == null || unitId == null) {
            logger.warn("sensorId or unitId isn't configured properly " + "for the given itemName [itemName={}, sensorId={}, unitId={}] => querying bus for values aborted!",new Object[]{itemName,sensorId,unitId});
            continue;
          }
          double value=0;
          try {
            if (owc.exists("/" + sensorId)) {
              String valueString=owc.read("/" + sensorId + "/"+ unitId);
              if (valueString != null) {
                value=Double.valueOf(valueString);
              }
              pause(250);
            }
 else {
              logger.info("there is no sensor for path {}",sensorId);
            }
            eventPublisher.postUpdate(itemName,new DecimalType(value));
            logger.debug("Found sensor {} with value {}",sensorId,value);
          }
 catch (          OwfsException oe) {
            logger.error("communication error with owserver while reading '" + sensorId + "'",oe);
          }
catch (          IOException ioe) {
            logger.error("couldn't establish network connection while reading '" + sensorId + "'",ioe);
          }
        }
      }
    }
 else {
      logger.warn("OneWireClient is null => refresh cycle aborted!");
    }
    pause(OneWireRefreshService.refreshInterval);
  }
}
