{
  if (messageMap == null) {
    messageMap=new HashMap<SerialMessage.SerialMessageClass,Class<? extends ZWaveCommandProcessor>>();
    messageMap.put(SerialMessage.SerialMessageClass.ApplicationCommandHandler,ApplicationCommandMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.ApplicationUpdate,ApplicationUpdateMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.GetRoutingInfo,RoutingInfoMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.GetVersion,GetVersionMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.IdentifyNode,IdentifyNodeMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.MemoryGetId,MemoryGetIdMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.SendData,SendDataMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.SerialApiGetInitData,SerialApiGetInitDataMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.SerialApiGetCapabilities,SerialApiGetCapabilitiesMessageClass.class);
    messageMap.put(SerialMessage.SerialMessageClass.RequestNodeNeighborUpdate,NodeNeighborMessageClass.class);
  }
  Constructor<? extends ZWaveCommandProcessor> constructor;
  try {
    try {
      try {
        constructor=messageMap.get(serialMessage).getConstructor();
        return constructor.newInstance();
      }
 catch (      NoSuchMethodException e1) {
        e1.printStackTrace();
      }
catch (      InvocationTargetException e) {
        e.printStackTrace();
      }
    }
 catch (    InstantiationException e) {
      e.printStackTrace();
    }
catch (    IllegalAccessException e) {
      e.printStackTrace();
    }
  }
 catch (  SecurityException e1) {
    e1.printStackTrace();
  }
catch (  IllegalArgumentException e) {
    e.printStackTrace();
  }
  return null;
}
