{
  ItemRegistry registry=(ItemRegistry)RulesActivator.itemRegistryTracker.getService();
  EventPublisher publisher=(EventPublisher)RulesActivator.eventPublisherTracker.getService();
  if (publisher != null && registry != null) {
    try {
      Item item=registry.getItem(itemName);
      State state=TypeParser.parseState(item.getAcceptedDataTypes(),stateString);
      publisher.postUpdate(itemName,state);
    }
 catch (    ItemNotFoundException e) {
      logger.warn("Item '" + itemName + "' does not exist.");
    }
  }
}
