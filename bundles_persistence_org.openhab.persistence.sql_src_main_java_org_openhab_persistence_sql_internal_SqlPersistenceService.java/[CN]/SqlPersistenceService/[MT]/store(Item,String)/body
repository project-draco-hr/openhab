{
  if (initialized) {
    if (!isConnected()) {
      connectToDatabase();
    }
    if (isConnected()) {
      Statement statement=null;
      try {
        statement=connection.createStatement();
        String sqlCmd=formatAlias(alias,item.getState().toString(),Calendar.getInstance().getTime());
        statement.executeUpdate(sqlCmd);
        logger.debug("Stored item '{}' as '{}' in SQL database at {}.",new String[]{item.getName(),item.getState().toString(),(new java.util.Date()).toString()});
      }
 catch (      Exception e) {
        logger.error("Could not store item " + item + " in database.",e);
      }
 finally {
        if (statement != null) {
          try {
            statement.close();
          }
 catch (          Exception hidden) {
          }
        }
      }
    }
 else {
      logger.warn("No connection to database. Can not persist item! Will retry connecting to database next time." + item);
    }
  }
}
