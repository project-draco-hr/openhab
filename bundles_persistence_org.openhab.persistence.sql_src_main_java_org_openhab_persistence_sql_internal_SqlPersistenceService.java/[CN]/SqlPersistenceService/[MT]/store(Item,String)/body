{
  final String name=alias == null ? item.getName() : alias;
  if (initialized) {
    if (!isConnected()) {
      connectToDatabase();
    }
    if (isConnected()) {
      String tableName=getTable(name);
      if (tableName == null) {
        logger.error("Unable to store item '{}'.",item.getName());
        return;
      }
      String sqlCmd=null;
      Statement statement=null;
      try {
        double itemValue;
        itemValue=Double.parseDouble(item.getState().toString());
        statement=connection.createStatement();
        sqlCmd=new String("INSERT INTO " + tableName + " (TIME, VALUE) VALUES('"+ System.currentTimeMillis()+ "','"+ itemValue+ "');");
        statement.executeUpdate(sqlCmd);
        logger.debug("Stored item '{}' as '{}'[{}] in SQL database at {}.",new Object[]{item.getName(),item.getState().toString(),Double.toString(itemValue),(new java.util.Date()).toString()});
        logger.debug("SQL: {}",sqlCmd);
      }
 catch (      Exception e) {
        logger.error("Could not store item '{}' in database with statement '{}': {}",new Object[]{item.getName(),sqlCmd,e.getMessage()});
      }
 finally {
        if (statement != null) {
          try {
            statement.close();
          }
 catch (          Exception hidden) {
          }
        }
      }
    }
 else {
      logger.warn("No connection to database. Can not persist item '{}'! Will retry connecting to database next time.",item);
    }
  }
}
