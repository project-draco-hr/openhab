{
  for (  ItemUIProvider provider : service.getItemUIProviders()) {
    Widget widget=provider.getDefaultWidget(itemType,itemName);
    if (widget != null) {
      return widget;
    }
  }
  if (itemType == null) {
    for (    Item item : service.getItemRegistry().getItems()) {
      if (item.getName().equals(itemName))       itemType=item.getClass();
    }
    if (itemType == null)     return null;
  }
  if (itemType.equals(SwitchItem.class)) {
    return SitemapFactory.eINSTANCE.createSwitch();
  }
  if (itemType.equals(GroupItem.class)) {
    return SitemapFactory.eINSTANCE.createGroup();
  }
  if (itemType.equals(MeasurementItem.class)) {
    return SitemapFactory.eINSTANCE.createText();
  }
  if (itemType.equals(ContactItem.class)) {
    return SitemapFactory.eINSTANCE.createText();
  }
  if (itemType.equals(RollerblindItem.class)) {
    return SitemapFactory.eINSTANCE.createSwitch();
  }
  if (itemType.equals(StringItem.class)) {
    return SitemapFactory.eINSTANCE.createText();
  }
  return null;
}
