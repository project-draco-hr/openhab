{
  logger.debug("execute() method is called!");
  for (  EnergenieBindingProvider provider : providers) {
    for (    String itemName : provider.getItemNames()) {
      EnergenieBindingConfig deviceConfig=getConfigForItemName(itemName);
      if (deviceConfig == null) {
        return;
      }
      try {
        String pmsId=deviceConfig.getDeviceId();
        int pmsSocketId=deviceConfig.getSocketNumber();
        String pmsIp=pmsIpConfig.get(pmsId);
        String pmsPw=pmsPasswordConfig.get(pmsId);
        String url="http://" + pmsIp + "/login.html";
        try {
          URL obj=new URL(url);
          HttpURLConnection con=(HttpURLConnection)obj.openConnection();
          con.setRequestProperty("User-Agent",USER_AGENT);
          con.setRequestMethod("GET");
          String urlParameters="pw=" + pmsPw;
          con.setDoOutput(true);
          DataOutputStream wr=new DataOutputStream(con.getOutputStream());
          wr.writeBytes(urlParameters);
          wr.flush();
          wr.close();
          int responseCode=con.getResponseCode();
          logger.trace("energenie: Login to {} with Password {}",pmsIp,pmsPw);
          logger.trace("energenie: Sending 'POST' request to URL : {}",url);
          logger.trace("energenie: Post parameters : {}",urlParameters);
          logger.trace("energenie: ResponseCode : {}",responseCode);
          BufferedReader in=new BufferedReader(new InputStreamReader(con.getInputStream()));
          String inputLine;
          StringBuffer responseString=new StringBuffer();
          while ((inputLine=in.readLine()) != null) {
            responseString.append(inputLine);
          }
          in.close();
          String loginResponseString=responseString.toString();
          String stateResponseSearch="var sockstates = ";
          int findState=loginResponseString.lastIndexOf(stateResponseSearch);
          if (findState != 0) {
            logger.trace("energenie: searchstring sockstates found at position {}",findState);
            String slicedResponse=loginResponseString.substring(findState + 18,findState + 25);
            logger.trace("energenie: transformed state response = {}",slicedResponse);
            try {
              String[] parts=slicedResponse.split(",");
              String itemState=parts[pmsSocketId - 1];
              logger.trace("energenie: Response for item {} = {}",itemName,itemState);
              if (itemState.equals("0")) {
                State state=OnOffType.valueOf("OFF");
                logger.trace("energenie: transformed state for item {} = {}",itemName,state);
                eventPublisher.postUpdate(itemName,state);
              }
              if (itemState.equals("1")) {
                State state=OnOffType.valueOf("ON");
                logger.trace("energenie: transformed state for item {} = {}",itemName,state);
                eventPublisher.postUpdate(itemName,state);
              }
            }
 catch (            Exception te) {
              logger.error("Response transformation throws exception ",te);
            }
          }
 else {
            logger.trace("energenie: searchstring sockstates not found");
          }
        }
 catch (        Exception e) {
          logger.error("energenie: Failed to logout from ip {}",pmsIp);
        }
        sendLogOut(pmsId);
      }
 catch (      Exception e) {
        logger.error("energenie: failed to read state",e);
      }
    }
  }
}
