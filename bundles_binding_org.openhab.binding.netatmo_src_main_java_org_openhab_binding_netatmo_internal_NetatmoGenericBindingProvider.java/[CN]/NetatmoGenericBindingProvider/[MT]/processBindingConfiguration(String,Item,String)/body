{
  logger.debug("Processing binding configuration: '{}'",bindingConfig);
  super.processBindingConfiguration(context,item,bindingConfig);
  final NetatmoBindingConfig config=new NetatmoBindingConfig();
  final String[] configParts=bindingConfig.split("#");
  String measureTypeString;
switch (configParts.length) {
case 2:
    config.deviceId=configParts[0];
  measureTypeString=configParts[1];
break;
case 3:
config.deviceId=configParts[0];
config.moduleId=configParts[1];
measureTypeString=configParts[2];
break;
case 4:
config.userid=configParts[0];
config.deviceId=configParts[1];
config.moduleId=configParts[2];
measureTypeString=configParts[3];
break;
default :
throw new BindingConfigParseException("A Netatmo binding configuration must consist of two, three or four parts - please verify your *.items file");
}
final String[] measureTypeParts=measureTypeString.split(",");
switch (measureTypeParts.length) {
case 1:
config.measureType=NetatmoMeasureType.fromString(measureTypeParts[0]);
config.netatmoScale=config.measureType.getDefaultScale();
break;
case 2:
config.measureType=NetatmoMeasureType.fromString(measureTypeParts[0]);
config.netatmoScale=NetatmoScale.fromString(measureTypeParts[1]);
break;
default :
throw new BindingConfigParseException("The last part of the Netatmo binding configuration must be 'type' or 'type,scale'" + " - please verify your *.items file");
}
logger.debug("Adding binding: {}",config);
addBindingConfig(item,config);
}
