{
  BundleContext bundleContext=FrameworkUtil.getBundle(this.getClass()).getBundleContext();
  if (this.httpService != null) {
    httpService.unregister(REST_SERVLET_ALIAS);
    logger.info("Stopped REST API");
  }
  if (this.discoveryService != null) {
    String httpPort=bundleContext.getProperty("jetty.port");
    String httpSslPort=bundleContext.getProperty("jetty.port.ssl");
    Hashtable<String,String> serviceProperties=new Hashtable<String,String>();
    serviceProperties.put("uri",REST_SERVLET_ALIAS);
    if (httpPort != null) {
      discoveryService.unregisterService("_openhab-server._tcp.local.","openHAB",Integer.parseInt(httpPort),serviceProperties);
    }
    if (httpSslPort != null) {
      discoveryService.unregisterService("_openhab-server._tcp.local.","openHAB-ssl",Integer.parseInt(httpSslPort),serviceProperties);
    }
  }
}
