{
  try {
    com.sun.jersey.core.osgi.Activator jerseyActivator=new com.sun.jersey.core.osgi.Activator();
    BundleContext bundleContext=FrameworkUtil.getBundle(this.getClass()).getBundleContext();
    try {
      jerseyActivator.start(bundleContext);
    }
 catch (    Exception e) {
      logger.error("Could not start Jersey framework",e);
    }
    httpService.registerServlet(REST_SERVLET_ALIAS,new AtmosphereServlet(),getJerseyServletParams(),createHttpContext());
    logger.info("Started REST API at /rest");
  }
 catch (  ServletException se) {
    throw new RuntimeException(se);
  }
catch (  NamespaceException se) {
    throw new RuntimeException(se);
  }
}
