{
  String type=((String)settings.get("type")).toLowerCase();
  int pos=settings.containsKey("pos") ? ((Integer)settings.get("pos")).intValue() : -1;
  BigDecimal valueMin=NumberUtils.toBigDecimal(settings.get("min"));
  BigDecimal valueMax=NumberUtils.toBigDecimal(settings.get("max"));
  BigDecimal replaceValue=NumberUtils.toBigDecimal(settings.get("replaceValue"));
  BigDecimal factor=NumberUtils.toBigDecimal(settings.get("factor"));
  Object value=null;
  byte hByte=0;
  byte lByte=0;
  BigDecimal repVal=null;
  if (pos > byteBuffer.position()) {
    logger.warn("eBus buffer pos error! Can happen ...");
  }
  if (type.equals("data2b")) {
    hByte=byteBuffer.get(pos);
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(-128);
    value=new BigDecimal(EBusUtils.decodeDATA2b(hByte,lByte));
  }
 else   if (type.equals("data2c")) {
    hByte=byteBuffer.get(pos);
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(-2048);
    value=new BigDecimal(EBusUtils.decodeDATA2c(hByte,lByte));
  }
 else   if (type.equals("data1c")) {
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(255);
    value=new BigDecimal(EBusUtils.decodeDATA1c(lByte));
  }
 else   if (type.equals("data1b")) {
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(-128);
    value=new BigDecimal(EBusUtils.decodeDATA1b(lByte));
  }
 else   if (type.equals("bcd")) {
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(266);
    value=new BigDecimal(EBusUtils.decodeBCD(lByte));
  }
 else   if (type.equals("word")) {
    hByte=byteBuffer.get(pos);
    lByte=byteBuffer.get(pos - 1);
    repVal=BigDecimal.valueOf(65535);
    value=new BigDecimal(EBusUtils.decodeWORD(hByte,lByte));
  }
 else   if (type.equals("uchar") || type.equals("byte")) {
    repVal=BigDecimal.valueOf(255);
    value=new BigDecimal(byteBuffer.get(pos - 1) & 0xFF);
  }
 else   if (type.equals("char")) {
    repVal=BigDecimal.valueOf(255);
    value=new BigDecimal(byteBuffer.get(pos - 1));
  }
 else   if (type.equals("bit")) {
    int bit=((Integer)settings.get("bit"));
    value=byteBuffer.get(pos - 1);
    boolean isSet=((Byte)value >> bit & 0x1) == 1;
    value=isSet;
  }
 else {
    logger.warn("Configuration Error: Unknown command type! {}",type);
  }
  if (replaceValue != null) {
    repVal=replaceValue;
  }
  if (value instanceof BigDecimal) {
    BigDecimal b=(BigDecimal)value;
    if (repVal != null && b.compareTo(repVal) == 0) {
      logger.trace("Replace value found, skip value ...");
      value=b=null;
    }
    if (b != null && factor != null) {
      logger.trace("Value multiplied ...");
      value=b=b.multiply(factor);
    }
    if (valueMin != null && b != null && b.compareTo(valueMin) == -1) {
      logger.trace("Minimal value reached, skip value ...");
      value=b=null;
    }
 else     if (valueMax != null && b != null && b.compareTo(valueMax) == 1) {
      logger.trace("Maximal value reached, skip value ...");
      value=b=null;
    }
  }
  return value;
}
