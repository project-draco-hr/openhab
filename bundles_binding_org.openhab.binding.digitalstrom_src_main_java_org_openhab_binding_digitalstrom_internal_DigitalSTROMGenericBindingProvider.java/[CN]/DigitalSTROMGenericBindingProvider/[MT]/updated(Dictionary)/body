{
  if (config != null) {
    String uriStr=(String)config.get("uri");
    if (uriStr == null) {
      logger.error("missing uri in configuration file");
      throw new org.osgi.service.cm.ConfigurationException(uri,"need server uri");
    }
    this.uri=uriStr;
    String connectTimeoutStr=(String)config.get("connectTimeout");
    if (connectTimeoutStr != null && !connectTimeoutStr.trim().equals("")) {
      int timeout=-1;
      try {
        timeout=Integer.parseInt(connectTimeoutStr);
      }
 catch (      java.lang.NumberFormatException e) {
        logger.error("NumberFormatException by getting connectTimeout: " + connectTimeoutStr);
      }
      if (timeout != -1) {
        this.connectTimeout=timeout;
      }
 else {
        connectTimeout=ConnectionConfig.DEFAULT_CONNECT_TIMEOUT;
      }
    }
 else {
      connectTimeout=ConnectionConfig.DEFAULT_CONNECT_TIMEOUT;
    }
    String readTimeoutStr=(String)config.get("readTimeout");
    if (readTimeoutStr != null && !readTimeoutStr.trim().equals("")) {
      int timeout=-1;
      try {
        timeout=Integer.parseInt(readTimeoutStr);
      }
 catch (      java.lang.NumberFormatException e) {
        logger.error("NumberFormatException by getting readTimeout: " + readTimeoutStr);
      }
      if (timeout != -1) {
        readTimeout=timeout;
      }
 else {
        readTimeout=ConnectionConfig.DEFAULT_READ_TIMEOUT;
      }
    }
 else {
      readTimeout=ConnectionConfig.DEFAULT_READ_TIMEOUT;
    }
    loginToken=(String)config.get("loginToken");
    user=(String)config.get("user");
    password=(String)config.get("password");
    setServerIsFound(false);
    init();
  }
}
