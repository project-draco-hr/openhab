{
  org.openhab.core.types.State state=UnDefType.UNDEF;
  if (item instanceof NumberItem) {
    if (value.getClass() == WSFloatingPointValue.class) {
      double d=((WSFloatingPointValue)value).getFloatingPointValue();
      BigDecimal bd=new BigDecimal(d).setScale(2,RoundingMode.HALF_EVEN);
      state=new DecimalType(bd);
    }
 else     if (value.getClass() == WSBooleanValue.class)     state=new DecimalType(((WSBooleanValue)value).isValue() ? 1 : 0);
 else     if (value.getClass() == WSIntegerValue.class)     state=new DecimalType(((WSIntegerValue)value).getInteger());
 else     if (value.getClass() == WSTimerValue.class)     state=new DecimalType(((WSTimerValue)value).getMilliseconds());
 else     if (value.getClass() == WSWeekdayValue.class)     state=new DecimalType(((WSWeekdayValue)value).getWeekdayNumber());
 else     throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to NumberItem");
  }
 else   if (item instanceof DimmerItem) {
    if (value.getClass() == WSIntegerValue.class)     state=new PercentType(((WSIntegerValue)value).getInteger());
 else     throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to NumberItem");
  }
 else   if (item instanceof SwitchItem) {
    if (value.getClass() == WSBooleanValue.class) {
      if (((WSBooleanValue)value).isValue())       state=OnOffType.ON;
 else       state=OnOffType.OFF;
    }
 else {
      throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to SwitchItem");
    }
  }
 else   if (item instanceof ContactItem) {
    if (value.getClass() == WSBooleanValue.class) {
      if (((WSBooleanValue)value).isValue())       state=OpenClosedType.OPEN;
 else       state=OpenClosedType.CLOSED;
    }
 else {
      throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to ContactItem");
    }
  }
 else   if (item instanceof DateTimeItem) {
    if (value.getClass() == WSDateValue.class) {
      Calendar cal=WSDateTimeToCalendar((WSDateValue)value,null);
      state=new DateTimeType(cal);
    }
 else     if (value.getClass() == WSTimeValue.class) {
      Calendar cal=WSDateTimeToCalendar(null,(WSTimeValue)value);
      state=new DateTimeType(cal);
    }
 else {
      throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to DateTimeItem");
    }
  }
 else   if (item instanceof StringItem) {
    if (value.getClass() == WSEnumValue.class) {
      state=new StringType(((WSEnumValue)value).getEnumName());
    }
 else {
      throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to StringItem");
    }
  }
 else   if (item instanceof RollershutterItem) {
    if (value.getClass() == WSIntegerValue.class)     state=new PercentType(((WSIntegerValue)value).getInteger());
 else     throw new NumberFormatException("Can't convert " + value.getClass().toString() + " to NumberItem");
  }
  return state;
}
