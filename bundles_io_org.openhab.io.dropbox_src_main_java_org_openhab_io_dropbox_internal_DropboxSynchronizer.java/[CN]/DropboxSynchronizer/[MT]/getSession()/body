{
  DbxAppInfo appInfo=new DbxAppInfo(DropboxSynchronizer.appKey,DropboxSynchronizer.appSecret);
  DbxRequestConfig config=new DbxRequestConfig("openHAB/1.0",Locale.getDefault().toString());
  DbxWebAuthNoRedirect webAuth=new DbxWebAuthNoRedirect(config,appInfo);
  if (webAuth == null) {
    File authFile=new File(contentDir + AUTH_FILE_NAME);
    if (authFile.exists()) {
      accessToken=extractAccessTokenFrom(authFile);
    }
 else {
      accessToken=authorizeOpenHAB(webAuth,authFile);
    }
  }
  if (accessToken != null) {
    session.setAccessTokenPair(accessToken);
  }
 else {
    session=null;
  }
  return session;
}
