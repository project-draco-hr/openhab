{
  String playerId="";
  String playerCommand="";
  String argument="";
  Pattern cmdPattern=Pattern.compile("(\\w*):(.*)");
  Matcher m=cmdPattern.matcher(playerCommandLine);
  if (m.matches()) {
    playerId=m.group(1);
    playerCommand=m.group(2);
  }
  logger.info("executed commandLine '{}' for player '{}'",playerCommand,playerId);
  if (null != squeezeServer) {
    PlayerCommandTypeMapping command;
    if (playerCommand.contains("=")) {
      command=PlayerCommandTypeMapping.fromString(playerCommand.substring(0,playerCommand.indexOf("=")));
      try {
        argument=URLEncoder.encode(playerCommand.substring(playerCommand.indexOf("=") + 1),"UTF-8").replace("+","%20");
      }
 catch (      UnsupportedEncodingException e) {
        logger.error("error while encoding message");
      }
    }
 else {
      command=PlayerCommandTypeMapping.fromString(playerCommand);
    }
    SqueezePlayer player=squeezeServer.getPlayerByOhName(playerId);
    if ((null != player) && (null != command)) {
      try {
switch (command) {
case MUTE:
          squeezeServer.muteByOhName(playerId,true);
        break;
case UNMUTE:
      squeezeServer.muteByOhName(playerId,false);
    break;
case VOLUME_INCREASE:
  squeezeServer.increaseVolumeByOhName(playerId);
break;
case VOLUME_DECREASE:
squeezeServer.decreaseVolumeByOhName(playerId);
break;
case VOLUME:
squeezeServer.setVolumeByOhName(playerId,argument);
break;
case PLAY:
squeezeServer.playByOhName(playerId);
break;
case PAUSE:
squeezeServer.pauseByOhName(playerId,true);
break;
case POWER_ON:
squeezeServer.powerByOhName(playerId,true);
break;
case POWER_OFF:
squeezeServer.powerByOhName(playerId,false);
break;
case NEXT:
squeezeServer.navigateByOhName(playerId,false);
break;
case PREV:
squeezeServer.navigateByOhName(playerId,true);
break;
case STOP:
squeezeServer.stopByOhName(playerId);
break;
case HTTP:
squeezeServer.playUrlByOhName(playerId,"http://" + argument);
break;
case FILE:
squeezeServer.playUrlByOhName(playerId,"file://" + argument);
break;
case ADD:
squeezeServer.syncPlayer(playerId,"",true);
break;
case REMOVE:
squeezeServer.syncPlayer(playerId,argument,false);
break;
default :
break;
}
}
 catch (Exception e) {
logger.warn("unknow playerCommand '{}'",playerCommand);
}
}
}
}
