{
  String playerId="";
  String playerCommand="";
  String argument="";
  Pattern pattern=Pattern.compile("(\\w*):(.*)");
  Matcher matcher=pattern.matcher(playerCommandLine);
  if (matcher.matches()) {
    playerId=matcher.group(1);
    playerCommand=matcher.group(2);
  }
  if (squeezeServer == null) {
    logger.warn("Squeeze Server not initialised or configured yet, ignoring commandLine '{}' for player '{}'",playerCommand,playerId);
    return;
  }
  logger.debug("Executed commandLine '{}' for player '{}'",playerCommand,playerId);
  SqueezePlayer player=squeezeServer.getPlayerByOhName(playerId);
  if (player == null) {
    logger.warn("No Squeezebox player configured with id '{}', ignoring.",playerId);
    return;
  }
  PlayerCommandTypeMapping command;
  if (playerCommand.contains("=")) {
    command=PlayerCommandTypeMapping.fromString(playerCommand.substring(0,playerCommand.indexOf("=")));
    try {
      argument=URLEncoder.encode(playerCommand.substring(playerCommand.indexOf("=") + 1),"UTF-8").replace("+","%20");
    }
 catch (    UnsupportedEncodingException e) {
      logger.error("Error while encoding message, ignoring.");
      return;
    }
  }
 else {
    command=PlayerCommandTypeMapping.fromString(playerCommand);
  }
  if (command == null) {
    logger.warn("Could not match to a Squeezebox command for commandLine '{}', ignoring.",playerCommand);
    return;
  }
  try {
switch (command) {
case MUTE:
      squeezeServer.mute(playerId,true);
    break;
case UNMUTE:
  squeezeServer.mute(playerId,false);
break;
case VOLUME_INCREASE:
squeezeServer.volume(playerId,true);
break;
case VOLUME_DECREASE:
squeezeServer.volume(playerId,false);
break;
case VOLUME:
squeezeServer.setVolume(playerId,Integer.parseInt(argument));
break;
case PLAY:
squeezeServer.play(playerId);
break;
case PAUSE:
squeezeServer.pause(playerId,true);
break;
case POWER_ON:
squeezeServer.power(playerId,true);
break;
case POWER_OFF:
squeezeServer.power(playerId,false);
break;
case NEXT:
squeezeServer.navigate(playerId,false);
break;
case PREV:
squeezeServer.navigate(playerId,true);
break;
case STOP:
squeezeServer.stop(playerId);
break;
case HTTP:
squeezeServer.playUrl(playerId,"http://" + argument);
break;
case FILE:
squeezeServer.playUrl(playerId,"file://" + argument);
break;
case ADD:
squeezeServer.syncPlayer(playerId,argument);
break;
case REMOVE:
squeezeServer.unSyncPlayer(playerId);
break;
default :
logger.warn("Unknown playerCommand '{}'",playerCommand);
break;
}
}
 catch (Exception e) {
logger.warn("Error executing playerCommand '" + playerCommand + "'",e);
}
}
