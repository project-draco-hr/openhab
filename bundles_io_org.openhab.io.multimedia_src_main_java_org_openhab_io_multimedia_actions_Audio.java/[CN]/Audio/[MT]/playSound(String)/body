{
  try {
    InputStream is=new FileInputStream(SOUND_DIR + File.separator + filename);
    if (filename.toLowerCase().endsWith(".mp3")) {
      Player player=new Player(is);
      playInThread(player);
    }
 else {
      AudioInputStream ais=AudioSystem.getAudioInputStream(is);
      Clip clip=AudioSystem.getClip();
      clip.open(ais);
      playInThread(clip);
    }
  }
 catch (  FileNotFoundException e) {
    logger.error("Cannot play sound '{}': {}",new String[]{filename,e.getMessage()});
  }
catch (  JavaLayerException e) {
    logger.error("Cannot play sound '{}': {}",new String[]{filename,e.getMessage()});
  }
catch (  UnsupportedAudioFileException e) {
    logger.error("Format of sound file '{}' is not supported: {}",new String[]{filename,e.getMessage()});
  }
catch (  IOException e) {
    logger.error("Cannot play sound '{}': {}",new String[]{filename,e.getMessage()});
  }
catch (  LineUnavailableException e) {
    logger.error("Cannot play sound '{}': {}",new String[]{filename,e.getMessage()});
  }
}
