{
  Enumeration<Integer> nodeIds=this.zwaveNodes.keys();
  while (nodeIds.hasMoreElements()) {
    Integer nodeId=nodeIds.nextElement();
    ZWaveNode node=this.getNode(nodeId);
    ZWaveSwitchAllCommandClass switchAllCommandClass=(ZWaveSwitchAllCommandClass)node.getCommandClass(ZWaveCommandClass.CommandClass.SWITCH_ALL);
    if (switchAllCommandClass != null) {
      logger.debug("NODE {}: Supports Switch All Command Class Sending AllOff Message",(Object)nodeId);
      switchAllCommandClass.setNode(node);
      switchAllCommandClass.setController(this);
      this.enqueue(switchAllCommandClass.allOffMessage());
      continue;
    }
    logger.debug("NODE {}: Does not Support Switch All Command Class. Ignoring All Off message.",(Object)nodeId);
  }
}
