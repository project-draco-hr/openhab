{
  final int REQUEST_NEIGHBOR_UPDATE_STARTED=0x21;
  final int REQUEST_NEIGHBOR_UPDATE_DONE=0x22;
  final int REQUEST_NEIGHBOR_UPDATE_FAILED=0x23;
  int nodeId=lastSentMessage.getMessagePayloadByte(0);
  logger.debug("NODE {}: Got NodeNeighborUpdate request.",nodeId);
switch (incomingMessage.getMessagePayloadByte(1)) {
case REQUEST_NEIGHBOR_UPDATE_STARTED:
    logger.debug("NODE {}: NodeNeighborUpdate STARTED",nodeId);
  transactionCompleted.release();
break;
case REQUEST_NEIGHBOR_UPDATE_DONE:
logger.debug("NODE {}: NodeNeighborUpdate DONE",nodeId);
notifyEventListeners(new ZWaveNetworkEvent(ZWaveNetworkEvent.Type.NodeNeighborUpdate,nodeId,ZWaveNetworkEvent.State.Success));
break;
case REQUEST_NEIGHBOR_UPDATE_FAILED:
logger.error("NODE {}: NodeNeighborUpdate FAILED",nodeId);
transactionCompleted.release();
notifyEventListeners(new ZWaveNetworkEvent(ZWaveNetworkEvent.Type.NodeNeighborUpdate,nodeId,ZWaveNetworkEvent.State.Failure));
break;
}
}
