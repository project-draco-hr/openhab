{
  if (!isConfigured() || itemConfig == null)   return;
  String itemName=itemConfig.getItemName();
  String broker=itemConfig.getBroker();
  String topic=itemConfig.getTopic();
  for (  MqttitudeConsumer consumer : getConsumersForBroker(broker)) {
    if (consumer.getItemName().equals(itemName))     unregisterConsumer(broker,consumer);
  }
  MqttitudeConsumer consumer=new MqttitudeConsumer(itemName,homeLocation,geoFence);
  consumer.setTopic(topic);
  logger.debug("Registering Mqttitude consumer for " + topic);
  mqttService.registerMessageConsumer(broker,consumer);
  if (!consumers.containsKey(broker))   consumers.put(broker,new ArrayList<MqttitudeConsumer>());
  consumers.get(broker).add(consumer);
}
