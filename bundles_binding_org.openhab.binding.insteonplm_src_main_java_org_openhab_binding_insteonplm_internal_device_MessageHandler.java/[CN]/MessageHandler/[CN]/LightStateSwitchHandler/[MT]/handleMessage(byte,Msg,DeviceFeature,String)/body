{
  try {
    if (isDuplicateMessage(cmd1,msg,f)) {
      return;
    }
    InsteonAddress a=f.getDevice().getAddress();
    int cmd2=(int)(msg.getByte("command2") & 0xff);
    int button=this.getIntParameter("button",-1);
    if (button < 0) {
      handleNoButtons(cmd2,a,msg);
    }
 else {
      if (cmd1 == 0) {
        boolean isOn=isLEDLit(cmd2,button);
        logger.info("LightStateSwitchHandler: dev {} button {} switched to {}",a,button,isOn ? "ON" : "OFF");
        m_feature.publishAll(isOn ? OnOffType.ON : OnOffType.OFF);
      }
 else {
        logger.debug("dropping status reply with cmd {}",Utils.getHexString(cmd1));
      }
    }
  }
 catch (  FieldException e) {
    logger.error("error parsing {}: ",msg,e);
  }
}
