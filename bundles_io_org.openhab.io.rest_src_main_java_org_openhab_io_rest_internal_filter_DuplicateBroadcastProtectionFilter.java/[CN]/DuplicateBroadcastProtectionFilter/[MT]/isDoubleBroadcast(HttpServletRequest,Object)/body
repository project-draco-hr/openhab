{
  String clientId=request.getHeader("X-Atmosphere-tracking-id");
  if (clientId == null || clientId.isEmpty()) {
    return false;
  }
  try {
    CacheEntry entry=cachedMessages.put(clientId,new CacheEntry(responseEntity));
    if (entry != null) {
      ObjectMapper mapper=new ObjectMapper();
      String firedResponse=mapper.writeValueAsString(entry.getData());
      String responseValue=mapper.writeValueAsString(responseEntity);
      if (responseValue.equals(firedResponse)) {
        return true;
      }
    }
  }
 catch (  Exception e) {
    logger.error("Could not check if double broadcast",e);
  }
  return false;
}
