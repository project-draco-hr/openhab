{
  Object obj=null;
switch (packetType) {
case LIGHTING2:
    RFXComLighting2Message d=new RFXComLighting2Message();
  d.subType=(RFXComLighting2Message.SubType)subType;
d.seqNbr=seqNumber;
String[] ids=id.split("\\.");
d.sensorId=Integer.parseInt(ids[0]);
d.unitcode=Byte.parseByte(ids[1]);
switch (valueSelector) {
case COMMAND:
if (type instanceof OnOffType) {
d.command=(type == OnOffType.ON ? Commands.ON : Commands.OFF);
d.dimmingLevel=(type == OnOffType.ON ? DimmingLevel.LEVEL0 : DimmingLevel.LEVEL100);
obj=d;
}
 else {
throw new NumberFormatException("Can't convert " + type + " to Command");
}
break;
case DIMMING_LEVEL:
if (type instanceof OnOffType) {
d.command=(type == OnOffType.ON ? Commands.ON : Commands.OFF);
d.dimmingLevel=(type == OnOffType.ON ? DimmingLevel.LEVEL0 : DimmingLevel.LEVEL100);
obj=d;
}
 else if (type instanceof PercentType) {
}
 else {
throw new NumberFormatException("Can't convert " + type + " to Command");
}
break;
default :
break;
}
break;
case TEMPERATURE_HUMIDITY:
break;
case INTERFACE_CONTROL:
case INTERFACE_MESSAGE:
case UNKNOWN:
default :
break;
}
return obj;
}
