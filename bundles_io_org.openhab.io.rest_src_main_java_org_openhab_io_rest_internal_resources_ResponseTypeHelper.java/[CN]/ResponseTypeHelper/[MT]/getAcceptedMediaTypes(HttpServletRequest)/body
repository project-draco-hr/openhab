{
  final String acceptHeader=request.getHeader(HttpHeaders.ACCEPT);
  if (acceptHeader != null) {
    String[] acceptableMediaTypes=acceptHeader.split(",");
    List<MediaType> mediaTypes=new ArrayList<MediaType>(acceptableMediaTypes.length);
    for (    String type : acceptableMediaTypes) {
      MediaType mediaType=MediaType.valueOf(type.trim());
      if (mediaType != null) {
        mediaTypes.add(mediaType);
      }
    }
    return mediaTypes;
  }
 else {
    return new ArrayList<MediaType>();
  }
}
