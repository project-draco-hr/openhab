{
  HmBattery battery=HmBatteryInfoProvider.getBatteryInfo(device.getType());
  if (battery != null) {
    for (    HmChannel channel : device.getChannels()) {
      if ("0".equals(channel.getNumber())) {
        try {
          logger.debug("Adding battery info to device {}: {}",device.getType(),battery.getInfo());
          HmDatapoint dp=new HmDatapoint();
          writeField(dp,"name","BATTERY_INFO",String.class);
          writeField(dp,"writeable",Boolean.FALSE,Boolean.class);
          writeField(dp,"valueType",20,Integer.class);
          dp.setValue(battery.getInfo());
          channel.addDatapoint(dp);
        }
 catch (        IllegalAccessException ex) {
          throw new HomematicClientException(ex.getMessage(),ex);
        }
      }
    }
  }
}
