{
  Script script=null;
  try {
    if (!file.isFile() || file.getName().startsWith(".") || getFileExtension(file) == null) {
      return null;
    }
    script=new Script(this,file);
    if (script.getEngine() == null) {
      logger.warn("No Engine found for File: {}",file.getName());
      return null;
    }
 else {
      logger.info("Engine found for File: {}",file.getName());
      scripts.put(file.getName(),script);
      List<Rule> newRules=script.getRules();
      for (      Rule rule : newRules) {
        ruleMap.put(rule,script);
      }
      triggerManager.addRuleModel(newRules);
    }
  }
 catch (  NoSuchMethodException e) {
    logger.error("Script file misses mandotary function: getRules()",e);
  }
catch (  FileNotFoundException e) {
    logger.error("script file not found",e);
  }
catch (  ScriptException e) {
    logger.error("script exception",e);
  }
catch (  Exception e) {
    logger.error("unknown exception",e);
  }
  return script;
}
