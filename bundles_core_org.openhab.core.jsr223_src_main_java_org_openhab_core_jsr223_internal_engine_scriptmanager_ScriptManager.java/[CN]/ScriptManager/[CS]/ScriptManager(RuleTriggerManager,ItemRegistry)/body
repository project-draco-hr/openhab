{
  this.triggerManager=triggerManager;
  instance=this;
  logger.info("Available engines:");
  for (  ScriptEngineFactory f : new ScriptEngineManager().getEngineFactories()) {
    logger.info(f.getEngineName());
  }
  this.setItemRegistry(itemRegistry);
  File folder=getFolder("scripts");
  if (folder.exists() && folder.isDirectory()) {
    loadScripts(folder);
    scriptUpdateWatcher=new Thread(new ScriptUpdateWatcher(this,folder));
    scriptUpdateWatcher.start();
  }
 else {
    logger.warn("Script directory: jsr_scripts missing, no scripts will be added!");
  }
}
