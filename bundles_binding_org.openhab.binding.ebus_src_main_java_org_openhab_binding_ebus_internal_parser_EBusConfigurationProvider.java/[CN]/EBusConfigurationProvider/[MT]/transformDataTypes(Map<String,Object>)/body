{
  if (configurationEntry.get("filter") instanceof String) {
    String filter=(String)configurationEntry.get("filter");
    filter=filter.replaceAll("\\?\\?","[0-9A-Z]{2}");
    logger.trace("Compile RegEx filter: {}",filter);
    configurationEntry.put("cfilter",Pattern.compile(filter));
  }
 else {
    String filter="[0-9A-Z]{2} [0-9A-Z]{2}";
    if (configurationEntry.containsKey("command")) {
      filter+=" " + configurationEntry.get("command");
      filter+=" [0-9A-Z]{2}";
    }
    if (configurationEntry.containsKey("data")) {
      filter+=" " + configurationEntry.get("data");
    }
    filter+=" .*";
    logger.trace("Compile RegEx filter: {}",filter);
    configurationEntry.put("cfilter",Pattern.compile(filter));
  }
  if (configurationEntry.containsKey("values")) {
    Map<String,Map<String,Object>> values=(Map<String,Map<String,Object>>)configurationEntry.get("values");
    for (    Entry<String,Map<String,Object>> entry : values.entrySet()) {
      if (entry.getValue().containsKey("script")) {
        String script=(String)entry.getValue().get("script");
        if (StringUtils.isNotEmpty(script) && compEngine != null) {
          try {
            CompiledScript compile=compEngine.compile(script);
            entry.getValue().put("cscript",compile);
          }
 catch (          ScriptException e) {
            logger.error("Error while compiling JavaScript!",e);
          }
        }
      }
    }
  }
  if (configurationEntry.containsKey("computed_values")) {
    Map<String,Map<String,Object>> cvalues=(Map<String,Map<String,Object>>)configurationEntry.get("computed_values");
    for (    Entry<String,Map<String,Object>> entry : cvalues.entrySet()) {
      if (entry.getValue().containsKey("script")) {
        String script=(String)entry.getValue().get("script");
        if (StringUtils.isNotEmpty(script) && compEngine != null) {
          try {
            CompiledScript compile=compEngine.compile(script);
            entry.getValue().put("cscript",compile);
          }
 catch (          ScriptException e) {
            logger.error("Error while compiling JavaScript!",e);
          }
        }
      }
    }
  }
}
