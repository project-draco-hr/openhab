{
  if (config == null) {
    throw new ConfigurationException("influxdb","The configuration for influxdb is missing fix openhab.cfg");
  }
  url=(String)config.get("url");
  if (StringUtils.isBlank(url)) {
    throw new ConfigurationException("influxdb:url","The database URL is missing - please configure the url parameter in openhab.cfg");
  }
  user=(String)config.get("user");
  if (StringUtils.isBlank(user)) {
    throw new ConfigurationException("influxdb:user","The user is missing - please configure the user parameter in openhab.cfg");
  }
  password=(String)config.get("password");
  if (StringUtils.isBlank(password)) {
    throw new ConfigurationException("influxdb:password","The password is missing. To specify a password configure the password parameter in openhab.cfg.");
  }
  dbName=(String)config.get("db");
  if (StringUtils.isBlank(dbName)) {
    throw new ConfigurationException("influxdb:db","The db name is missing. To specify a db name configure the db parameter in openhab.cfg.");
  }
  disconnect();
  connect();
  isProperlyConfigured=true;
}
