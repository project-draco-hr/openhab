{
  HistoricItem historicItem=PersistenceExtensions.historicState(item,new DateMidnight(2012,1,1),"test");
  assertEquals("2012",historicItem.getState().toString());
  historicItem=PersistenceExtensions.historicState(item,new DateMidnight(2011,12,31),"test");
  assertEquals("2011",historicItem.getState().toString());
  historicItem=PersistenceExtensions.historicState(item,new DateMidnight(2011,1,1),"test");
  assertEquals("2011",historicItem.getState().toString());
  historicItem=PersistenceExtensions.historicState(item,new DateMidnight(2000,1,1),"test");
  assertEquals("2000",historicItem.getState().toString());
}
