{
  if (function == null || source == null) {
    throw new TransformationException("the given parameters 'function' and 'source' must not be null");
  }
  Matcher matcher=EXTRACT_FUNCTION_PATTERN.matcher(function);
  if (!matcher.matches()) {
    throw new IllegalArgumentException("given transformation function '" + function + "' does not follow the expected pattern '<function>(<pattern>)'");
  }
  matcher.reset();
  while (matcher.find()) {
    String type=matcher.group(1);
    String pattern=matcher.group(2);
    TransformationProcessor processor=findProcessor(type);
    if (processor != null) {
      processor.transform(pattern,source);
    }
    break;
  }
  return source;
}
