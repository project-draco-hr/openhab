{
  String itemName=w.getItem();
  if (itemRegistry != null && itemName != null) {
    try {
      Item item=itemRegistry.getItem(itemName);
      return item.getState();
    }
 catch (    ItemNotFoundException e) {
      logger.error("Cannot retrieve item '{}' for widget {}",new String[]{itemName,w.eClass().getInstanceTypeName()});
    }
catch (    ItemNotUniqueException e) {
      logger.error("Item with name '{}' is not unique.",itemName,e);
    }
  }
  return UnDefType.UNDEF;
}
