{
  if (!(event instanceof ZWaveNetworkEvent))   return;
  if (healNodes == null)   return;
  ZWaveNetworkEvent nwEvent=(ZWaveNetworkEvent)event;
  HealNode node=healNodes.get(nwEvent.getNodeId());
  if (node == null)   return;
  if (nwEvent.getEvent() != node.event)   return;
switch (nwEvent.getState()) {
case Success:
    node.retriesCnt=0;
  node.state=node.stateNext;
break;
case Failure:
logger.debug("NODE {}: Network heal received FAILURE event",node.nodeId);
if (node.retriesCnt >= HEAL_MAX_RETRIES) {
logger.debug("NODE {}: Network heal has exceeded maximum retries",node.nodeId);
node.state=node.stateNext;
node.retriesCnt=0;
}
 else {
logger.debug("NODE {}: Network heal will retry last request",node.nodeId);
node.retriesCnt++;
}
break;
}
if (node.retriesCnt == 0 && node.routeList != null && node.routeList.size() > 0) node.routeList.remove(0);
nextHealStage(node);
}
