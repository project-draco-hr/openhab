{
  List<HmDevice> devices=sendScriptByName("getAllDevices",HmDeviceList.class).getDevices();
  for (  HmDevice device : devices) {
    addBatteryInfo(device);
    for (    HmChannel channel : device.getChannels()) {
      for (      HmDatapoint dp : channel.getDatapoints()) {
        String deviceAddress=StringUtils.stripStart(device.getAddress(),"*");
        DatapointConfig bindingConfig=new DatapointConfig(deviceAddress,channel.getNumber(),dp.getName());
        callback.iterate(bindingConfig,dp);
      }
    }
  }
}
