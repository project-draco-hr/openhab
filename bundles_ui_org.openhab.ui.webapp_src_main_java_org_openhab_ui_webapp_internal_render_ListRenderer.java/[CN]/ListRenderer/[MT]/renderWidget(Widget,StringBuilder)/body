{
  String snippet=getSnippet("list");
  snippet=snippet.replaceAll("%label%",getLabel(w));
  String rowSnippet=getSnippet("list_row");
  String state=itemUIRegistry.getState(w).toString();
  String[] rowContents=state.split(((List)w).getSeparator());
  StringBuilder rowSB=new StringBuilder();
  for (  String row : rowContents) {
    rowSB.append(StringUtils.replace(rowSnippet,"%title%",row));
  }
  snippet=StringUtils.replace(snippet,"%rows%",rowSB.toString());
  String style="";
  String color=itemUIRegistry.getLabelColor(w);
  if (color != null)   style="color:" + color;
  snippet=StringUtils.replace(snippet,"%labelstyle%",style);
  style="";
  color=itemUIRegistry.getValueColor(w);
  if (color != null)   style="color:" + color;
  snippet=StringUtils.replace(snippet,"%valuestyle%",style);
  sb.append(snippet);
  return null;
}
