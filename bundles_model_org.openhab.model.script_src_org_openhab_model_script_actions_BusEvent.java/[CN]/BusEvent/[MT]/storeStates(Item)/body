{
  Map<Item,State> statesMap=Maps.newHashMap();
  if (items != null) {
    for (    Item item : items) {
      if (item instanceof GroupItem) {
        GroupItem groupItem=(GroupItem)item;
        for (        Item member : groupItem.getAllMembers()) {
          statesMap.put(member,member.getState());
        }
      }
 else {
        statesMap.put(item,item.getState());
      }
    }
  }
  return statesMap;
}
