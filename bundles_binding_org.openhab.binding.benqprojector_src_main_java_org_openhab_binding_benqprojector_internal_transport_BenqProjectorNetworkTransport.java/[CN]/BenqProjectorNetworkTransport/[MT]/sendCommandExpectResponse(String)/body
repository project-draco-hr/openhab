{
  String respStr="";
  String tmp;
  if (this.projectorWriter != null) {
    this.projectorWriter.printf("%s",cmd);
    logger.debug("Sent command '" + cmd.replace("\r","") + "'");
    try {
      tmp=this.projectorReader.readLine();
      while (tmp != null) {
        if (tmp.startsWith("*") == true && tmp.endsWith("#")) {
          logger.debug("Response: '" + tmp + "'");
          respStr=tmp;
          break;
        }
        tmp=this.projectorReader.readLine();
      }
    }
 catch (    SocketTimeoutException e) {
      logger.warn("Timed out reading response from projector");
    }
catch (    IOException e) {
      if (retryAttempt == false) {
        this.closeConnection();
        if (this.networkConnect()) {
          logger.debug("Reconnect successful - retrying transmission");
          retryAttempt=true;
          sendCommandExpectResponse(cmd);
          retryAttempt=false;
        }
 else {
          logger.error("Attempt to reconnect after IOException failed: " + e.getMessage());
        }
      }
 else {
        logger.error("IO Exception while reading response from projector: " + e.getMessage());
      }
    }
  }
 else {
    logger.debug("Not sending command to projector as connection is not setup yet.");
  }
  return respStr;
}
