{
  if (!itemMap.containsKey(itemProvider)) {
    Item[] items=itemProvider.getItems();
    for (    Item item : items) {
      if (isValidItemName(item.getName())) {
        if (item instanceof GenericItem) {
          GenericItem genericItem=(GenericItem)item;
          genericItem.setEventPublisher(eventPublisher);
          genericItem.initialize();
        }
      }
 else {
        logger.warn("Ignoring item '{}' as it does not comply with" + " the naming convention.",item.getName());
      }
    }
    itemProvider.addItemChangeListener(this);
    itemMap.put(itemProvider,items);
    logger.debug("Item provider '{}' has been added.",itemProvider.getClass().getSimpleName());
  }
}
