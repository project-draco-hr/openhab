{
  Enumeration portList=CommPortIdentifier.getPortIdentifiers();
  boolean _hasMoreElements=portList.hasMoreElements();
  boolean _while=_hasMoreElements;
  while (_while) {
{
      Object _nextElement=portList.nextElement();
      final CommPortIdentifier id=((CommPortIdentifier)_nextElement);
      int _portType=id.getPortType();
      boolean _equals=(_portType == CommPortIdentifier.PORT_SERIAL);
      if (_equals) {
        String _name=id.getName();
        boolean _equals_1=_name.equals(this.port);
        if (_equals_1) {
          UrtsiDevice.logger.debug("Serial port \'{}\' has been found.",this.port);
          this.portId=id;
        }
      }
    }
    boolean _hasMoreElements_1=portList.hasMoreElements();
    _while=_hasMoreElements_1;
  }
  boolean _notEquals=(!Objects.equal(this.portId,null));
  if (_notEquals) {
    try {
      RXTXPort _open=this.portId.open("openHAB",2000);
      this.serialPort=((SerialPort)_open);
    }
 catch (    final Throwable _t) {
      if (_t instanceof PortInUseException) {
        final PortInUseException e=(PortInUseException)_t;
        InitializationException _initializationException=new InitializationException(e);
        throw _initializationException;
      }
 else {
        throw Exceptions.sneakyThrow(_t);
      }
    }
    try {
      this.serialPort.setSerialPortParams(UrtsiDevice.baud,UrtsiDevice.databits,UrtsiDevice.stopbit,UrtsiDevice.parity);
    }
 catch (    final Throwable _t_1) {
      if (_t_1 instanceof UnsupportedCommOperationException) {
        final UnsupportedCommOperationException e_1=(UnsupportedCommOperationException)_t_1;
        InitializationException _initializationException_1=new InitializationException(e_1);
        throw _initializationException_1;
      }
 else {
        throw Exceptions.sneakyThrow(_t_1);
      }
    }
    try {
      InputStream _inputStream=this.serialPort.getInputStream();
      this.inputStream=_inputStream;
    }
 catch (    final Throwable _t_2) {
      if (_t_2 instanceof IOException) {
        final IOException e_2=(IOException)_t_2;
        InitializationException _initializationException_2=new InitializationException(e_2);
        throw _initializationException_2;
      }
 else {
        throw Exceptions.sneakyThrow(_t_2);
      }
    }
    try {
      OutputStream _outputStream=this.serialPort.getOutputStream();
      this.outputStream=_outputStream;
    }
 catch (    final Throwable _t_3) {
      if (_t_3 instanceof IOException) {
        final IOException e_3=(IOException)_t_3;
        InitializationException _initializationException_3=new InitializationException(e_3);
        throw _initializationException_3;
      }
 else {
        throw Exceptions.sneakyThrow(_t_3);
      }
    }
  }
 else {
    StringBuilder _stringBuilder=new StringBuilder();
    final StringBuilder sb=_stringBuilder;
    Enumeration _portIdentifiers=CommPortIdentifier.getPortIdentifiers();
    portList=_portIdentifiers;
    boolean _hasMoreElements_1=portList.hasMoreElements();
    boolean _while_1=_hasMoreElements_1;
    while (_while_1) {
{
        Object _nextElement=portList.nextElement();
        final CommPortIdentifier id=((CommPortIdentifier)_nextElement);
        int _portType=id.getPortType();
        boolean _equals=(_portType == CommPortIdentifier.PORT_SERIAL);
        if (_equals) {
          String _name=id.getName();
          String _plus=(_name + "\n");
          sb.append(_plus);
        }
      }
      boolean _hasMoreElements_2=portList.hasMoreElements();
      _while_1=_hasMoreElements_2;
    }
    String _plus=("Serial port \'" + this.port);
    String _plus_1=(_plus + "\' could not be found. Available ports are:\n");
    String _string=sb.toString();
    String _plus_2=(_plus_1 + _string);
    InitializationException _initializationException_4=new InitializationException(_plus_2);
    throw _initializationException_4;
  }
}
