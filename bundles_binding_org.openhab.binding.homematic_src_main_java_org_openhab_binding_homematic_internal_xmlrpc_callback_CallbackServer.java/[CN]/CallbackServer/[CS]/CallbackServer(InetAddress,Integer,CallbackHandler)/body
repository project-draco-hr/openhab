{
  if (port == null) {
    throw new IllegalArgumentException("port must no be null");
  }
  if (handler == null) {
    throw new IllegalArgumentException("handler must no be null");
  }
  logger.debug("CallbackServer will listen on port " + port);
  DefaultHandlerHandlerMapping phm=new DefaultHandlerHandlerMapping("CallbackHandler");
  phm.setRequestProcessorFactoryFactory(new CallbackHandlerProcessorFactoryFactory(handler));
  phm.setVoidMethodEnabled(false);
  try {
    phm.addHandler("CallbackHandler",CallbackHandler.class);
    SystemHandler.addSystemHandler(phm);
  }
 catch (  XmlRpcException e) {
    throw new HomematicBindingException(e);
  }
  if (inetAddress != null) {
    webServer=new TimeoutWebServer(port,inetAddress);
  }
 else {
    webServer=new TimeoutWebServer(port);
  }
  XmlRpcServer xmlRpcServer=webServer.getXmlRpcServer();
  xmlRpcServer.setHandlerMapping(phm);
  xmlRpcServer.setTypeConverterFactory(new TypeConverterFactoryImpl());
  XmlRpcServerConfigImpl serverConfig=(XmlRpcServerConfigImpl)xmlRpcServer.getConfig();
  serverConfig.setEnabledForExtensions(true);
  serverConfig.setContentLengthOptional(false);
  serverConfig.setEncoding("ISO-8859-1");
}
