{
  IhcClient ihc=IhcConnection.getCommunicator();
  if (ihc != null) {
    try {
      if (orderResourceValueNotifications)       enableResourceValueNotification();
      logger.debug("Wait new notifications from controller");
      List<? extends WSResourceValue> resourceValueList=ihc.waitResourceValueNotifications(10);
      logger.debug("{} new notifications received from controller",resourceValueList.size());
      for (      WSResourceValue val : resourceValueList) {
        for (        IhcBindingProvider provider : providers) {
          for (          String itemName : provider.getItemNames()) {
            int resourceId=provider.getResourceId(itemName);
            if (val.getResourceID() == resourceId) {
              if (provider.isOutBindingOnly(itemName)) {
                logger.debug("{} is out binding only...skip update to OpenHAB bus",itemName);
              }
 else {
                Class<? extends Item> itemType=provider.getItemType(itemName);
                org.openhab.core.types.State value=convertResourceValueToState(itemType,val);
                eventPublisher.postUpdate(itemName,value);
              }
            }
          }
        }
      }
    }
 catch (    SocketTimeoutException e2) {
      logger.debug("Notifications timeout - no new notifications");
    }
catch (    IOException e) {
      logger.error("New notifications wait failed...reinitialize connection",e);
      try {
        ihc.openConnection();
        enableResourceValueNotification();
      }
 catch (      Exception e2) {
        logger.error("Communication error",e2);
        lastNotificationOrderTime=0;
        mysleep(1000L);
      }
    }
catch (    Exception e) {
      logger.error("Exception",e);
      mysleep(5000L);
    }
  }
 else {
    logger.warn("Controller is null => resource value notfications waiting aborted!");
    mysleep(5000L);
  }
}
