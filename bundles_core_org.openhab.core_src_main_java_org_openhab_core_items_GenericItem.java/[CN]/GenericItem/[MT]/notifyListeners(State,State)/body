{
  if (oldState.equals(newState)) {
    for (    StateChangeListener listener : listeners) {
      listener.stateUpdated(this,newState);
    }
  }
 else {
    for (    StateChangeListener listener : listeners) {
      listener.stateChanged(this,oldState,newState);
    }
  }
}
