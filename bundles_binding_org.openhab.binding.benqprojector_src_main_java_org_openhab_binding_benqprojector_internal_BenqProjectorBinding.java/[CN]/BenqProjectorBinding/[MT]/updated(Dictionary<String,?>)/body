{
  if (config != null) {
    String refreshIntervalString=(String)config.get("refresh");
    if (StringUtils.isNotBlank(refreshIntervalString)) {
      refreshInterval=Long.parseLong(refreshIntervalString);
    }
    String modeString=(String)config.get("mode");
    if (StringUtils.isNotBlank(modeString)) {
      if (modeString.equalsIgnoreCase("serial")) {
        networkMode=false;
      }
    }
    String deviceIdString=(String)config.get("deviceId");
    if (StringUtils.isNotBlank(deviceIdString)) {
      String[] deviceIdParts=deviceIdString.split(":");
      if (deviceIdParts.length == 2) {
        this.networkHost=deviceIdParts[0];
        this.networkPort=Integer.parseInt(deviceIdParts[1]);
      }
      setProperlyConfigured(true);
      setupConnection();
    }
  }
}
