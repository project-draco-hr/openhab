{
  try {
    PercentType pc=(PercentType)cmd;
    logger.debug("changing level of {} to {}",dev.getAddress(),pc.intValue());
    int level=(pc.intValue() * 255) / 100;
    if (level > 0) {
      Msg m=dev.makeStandardMessage((byte)0x0f,(byte)0x11,(byte)level);
      dev.enqueueMessage(m,m_feature);
      logger.info("PercentHandler: sent msg to set {} to {}",dev.getAddress(),level);
    }
 else {
      Msg m=dev.makeStandardMessage((byte)0x0f,(byte)0x13,(byte)0x00);
      dev.enqueueMessage(m,m_feature);
      logger.info("PercentHandler: sent msg to set {} to zero by switching off",dev.getAddress());
    }
  }
 catch (  IOException e) {
    logger.error("command send i/o error: ",e);
  }
catch (  FieldException e) {
    logger.error("command send message creation error ",e);
  }
}
