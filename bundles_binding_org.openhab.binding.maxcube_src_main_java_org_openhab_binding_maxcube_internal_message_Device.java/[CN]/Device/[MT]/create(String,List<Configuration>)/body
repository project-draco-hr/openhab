{
  Device returnValue=null;
  for (  Configuration c : configurations) {
    if (c.getRFAddress().toUpperCase().equals(rfAddress.toUpperCase())) {
switch (c.getDeviceType()) {
case HeatingThermostatPlus:
case HeatingThermostat:
        HeatingThermostat thermostat=new HeatingThermostat(c);
      thermostat.setType(c.getDeviceType());
    return thermostat;
case EcoSwitch:
  return new EcoSwitch(c);
case ShutterContact:
return new ShutterContact(c);
case WallMountedThermostat:
WallMountedThermostat wallThermostat=new WallMountedThermostat(c);
wallThermostat.setType(c.getDeviceType());
return wallThermostat;
default :
return new UnsupportedDevice(c);
}
}
}
return returnValue;
}
