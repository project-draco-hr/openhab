{
  OAuthService service=new ServiceBuilder().provider(new OpenPathsApi()).apiKey(accessKey).apiSecret(secretKey).build();
  OAuthRequest request=new OAuthRequest(Verb.GET,"https://openpaths.cc/api/1");
  service.signRequest(Token.empty(),request);
  request.addQuerystringParameter("num_points","1");
  Response response=request.send();
  if (!response.isSuccessful()) {
    logger.error("Failed to request the OpenPaths location: " + response.getCode());
    return null;
  }
  try {
    JSONParser parser=new JSONParser();
    JSONArray array=(JSONArray)parser.parse(response.getBody());
    JSONObject obj=(JSONObject)array.get(0);
    float latitude=Float.parseFloat(obj.get("lat").toString());
    float longitude=Float.parseFloat(obj.get("lon").toString());
    String device=obj.get("device").toString();
    return new Location(latitude,longitude,device);
  }
 catch (  ParseException e) {
    logger.error("Failed to parse the OpenPaths response: " + response.getBody(),e);
    return null;
  }
}
