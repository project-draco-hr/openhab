{
  try {
    cul.send(data.rawMsg);
  }
 catch (  CULCommunicationException e) {
    logger.error("Unable to send CUL message " + data + " because: "+ e.getMessage());
  }
  enoughCredit(data.requiredCredit(),true);
  this.lastTransmit=new Date();
  if (this.endOfQueueTransmit.before(this.lastTransmit)) {
    this.endOfQueueTransmit=this.lastTransmit;
  }
  if (data.msgType != MaxCulMsgType.ACK) {
    SenderQueueItem qi=new SenderQueueItem();
    qi.msg=data;
    qi.expiry=new Date(this.lastTransmit.getTime() + MESSAGE_EXPIRY_PERIOD);
    this.pendingAckQueue.put(qi.msg.msgCount,qi);
  }
}
