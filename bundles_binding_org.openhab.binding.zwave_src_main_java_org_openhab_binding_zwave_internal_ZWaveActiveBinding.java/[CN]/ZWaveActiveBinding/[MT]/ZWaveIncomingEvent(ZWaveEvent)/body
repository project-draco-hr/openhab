{
  if (!this.isProperlyConfigured()) {
    return;
  }
  if (!isZwaveNetworkReady) {
    if (event.getEventType() == ZWaveEventType.NETWORK_EVENT && ((String)event.getEventValue()).equalsIgnoreCase("INIT_DONE")) {
      logger.debug("ZWaveIncomingEvent Called, Network Event, Init Done. Setting ZWave Network Ready.");
      isZwaveNetworkReady=true;
    }
 else {
      logger.debug("Zwave Network Not Ready yet.");
    }
    return;
  }
  logger.debug("Incoming ZWave Event [{}]",event.toString());
switch (event.getEventType()) {
case TRANSACTION_COMPLETED_EVENT:
    return;
case BASIC_EVENT:
case SWITCH_EVENT:
case DIMMER_EVENT:
case SENSOR_EVENT:
case BATTERY_EVENT:
  logger.debug("Got a " + event.getEventType() + " event from Z-Wave network for nodeId = {}, state = {}, endpoint = {}",new Object[]{event.getNodeId(),event.getEventValue(),event.getEndpoint()});
for (ZWaveBindingProvider provider : providers) {
  logger.trace("Trying to find Item through {} provider",provider.toString());
  for (  String itemName : provider.getItemNames()) {
    logger.trace("Looking in {}",itemName);
    ZWaveBindingConfig bindingConfig=provider.getZwaveBindingConfig(itemName);
    logger.trace("{} {} {}",new Object[]{bindingConfig.getNodeId(),bindingConfig.getAction(),bindingConfig.getEndpoint()});
    logger.trace("{}",String.valueOf(event.getNodeId()));
    if (bindingConfig.getNodeId() == event.getNodeId() && bindingConfig.getEndpoint() == event.getEndpoint()) {
switch (bindingConfig.getAction()) {
case NONE:
case RESTORE_LAST_VALUE:
        if (event.getEventType() == ZWaveEventType.BATTERY_EVENT)         continue;
      logger.debug("Will send an update to {}",itemName);
    if (event.getEventValue().equals("ON")) {
      eventPublisher.postUpdate(itemName,OnOffType.ON);
    }
 else     if (event.getEventValue().equals("OFF")) {
      eventPublisher.postUpdate(itemName,OnOffType.OFF);
    }
 else     if (event.getEventValue().equals("CLOSED")) {
      eventPublisher.postUpdate(itemName,OpenClosedType.CLOSED);
    }
 else     if (event.getEventValue().equals("OPEN")) {
      eventPublisher.postUpdate(itemName,OpenClosedType.OPEN);
    }
 else {
      Object eventValue=event.getEventValue();
      if (eventValue instanceof Integer)       eventPublisher.postUpdate(itemName,new PercentType((Integer)eventValue));
 else       if (eventValue instanceof BigDecimal)       eventPublisher.postUpdate(itemName,new DecimalType((BigDecimal)eventValue));
 else       eventPublisher.postUpdate(itemName,new StringType(event.getEventValue().toString()));
    }
  break;
case REPORT_BATTERY_LEVEL:
if (event.getEventType() != ZWaveEventType.BATTERY_EVENT) continue;
logger.debug("Will send an update to {}",itemName);
eventPublisher.postUpdate(itemName,new PercentType((Integer)event.getEventValue()));
break;
default :
continue;
}
}
}
}
break;
default :
logger.warn("Unknown event type {}",event.getEventType());
break;
}
}
