{
  if (config == null)   return;
  if (StringUtils.isNotBlank((String)config.get("port"))) {
    try {
      port=(String)config.get("port");
      logger.info("Update config, port = {}",port);
      this.setProperlyConfigured(true);
      this.deactivate();
      this.zController=new ZWaveController(port);
      this.converterHandler=new ZWaveConverterHandler(this.zController,this.eventPublisher);
      zController.initialize();
      zController.addEventListener(this);
      this.zConfigurationService=new ZWaveConfiguration(this.zController);
      return;
    }
 catch (    SerialInterfaceException ex) {
      this.setProperlyConfigured(false);
      throw new ConfigurationException("port",ex.getLocalizedMessage(),ex);
    }
  }
  this.setProperlyConfigured(false);
}
