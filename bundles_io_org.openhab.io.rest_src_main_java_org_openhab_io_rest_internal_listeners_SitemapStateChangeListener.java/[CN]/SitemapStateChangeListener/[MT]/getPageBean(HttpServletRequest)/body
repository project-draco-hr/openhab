{
  try {
    String query=request.getQueryString();
    String pathInfo=request.getPathInfo();
    String responseType=(new ResponseTypeHelper()).getResponseType(request);
    if (responseType != null) {
      URI basePath=UriBuilder.fromUri(request.getScheme() + "://" + request.getServerName()+ ":"+ request.getServerPort()+ (request.getContextPath().equals("null") ? "" : request.getContextPath())+ RESTApplication.REST_SERVLET_ALIAS+ "/").build();
      if (pathInfo.startsWith("/" + SitemapResource.PATH_SITEMAPS)) {
        String[] pathSegments=pathInfo.substring(1).split("/");
        if (pathSegments.length >= 3) {
          String sitemapName=pathSegments[1];
          String pageId=pathSegments[2];
          Sitemap sitemap=(Sitemap)RESTApplication.getModelRepository().getModel(sitemapName + ".sitemap");
          if (sitemap != null) {
            return SitemapResource.getPageBean(sitemapName,pageId,basePath);
          }
        }
      }
    }
  }
 catch (  Exception e) {
    return null;
  }
  return null;
}
