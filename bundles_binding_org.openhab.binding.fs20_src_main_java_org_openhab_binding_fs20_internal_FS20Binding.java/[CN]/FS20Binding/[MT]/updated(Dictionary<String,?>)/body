{
  logger.debug("Received new config");
  if (config != null) {
    Boolean configChanged=false;
    String baudRateString=(String)config.get(KEY_BAUD_RATE);
    if (StringUtils.isNotBlank(baudRateString)) {
      properties.put(KEY_BAUD_RATE,Integer.parseInt(baudRateString));
      configChanged=true;
    }
    String parityString=(String)config.get(KEY_PARITY);
    if (StringUtils.isNotBlank(parityString)) {
      properties.put(KEY_PARITY,Integer.parseInt(parityString));
      configChanged=true;
    }
    String refreshIntervalString=(String)config.get("refresh");
    if (StringUtils.isNotBlank(refreshIntervalString)) {
      refreshInterval=Long.parseLong(refreshIntervalString);
    }
    String deviceName=(String)config.get(KEY_DEVICE_NAME);
    if (StringUtils.isEmpty(deviceName)) {
      logger.error("No device name configured");
      setProperlyConfigured(false);
      throw new ConfigurationException(KEY_DEVICE_NAME,"The device name can't be empty");
    }
 else {
      this.deviceName=deviceName;
      configChanged=true;
    }
    if (configChanged) {
      updateDeviceSettings();
    }
    setProperlyConfigured(true);
  }
}
