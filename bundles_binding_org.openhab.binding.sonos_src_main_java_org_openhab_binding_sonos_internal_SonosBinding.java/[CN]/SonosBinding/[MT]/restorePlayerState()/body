{
synchronized (this) {
    if (sonosSavedGroupState != null && sonosSavedPlayerState != null) {
      for (      SonosZoneGroup group : sonosSavedGroupState) {
        for (        String playerName : group.getMembers()) {
          SonosZonePlayer player=sonosZonePlayerCache.getById(playerName);
          if (player != null) {
            player.becomeStandAlonePlayer();
          }
        }
      }
      for (      SonosZoneGroup group : sonosSavedGroupState) {
        SonosZonePlayer coordinator=sonosZonePlayerCache.getById(group.getCoordinator());
        if (coordinator != null) {
          for (          String playerName : group.getMembers()) {
            SonosZonePlayer player=sonosZonePlayerCache.getById(playerName);
            if (player != null) {
              coordinator.addMember(player);
            }
          }
        }
      }
      for (      SonosZoneGroup group : sonosSavedGroupState) {
        SonosZonePlayer coordinator=sonosZonePlayerCache.getById(group.getCoordinator());
        for (        String playerName : group.getMembers()) {
          SonosZonePlayer player=sonosZonePlayerCache.getById(playerName);
          if (player != null) {
            SonosZonePlayerState saveState=sonosSavedPlayerState.get(playerName);
            player.setVolume(saveState.volume);
            if (player == coordinator) {
              if (player == coordinator) {
                if (saveState.entry != null) {
                  if (saveState.entry.getUpnpClass().contains("object.container.playlistContainer")) {
                    player.addURIToQueue(saveState.entry.getRes(),SonosXMLParser.compileMetadataString(saveState.entry),0,true);
                    SonosEntry entry=new SonosEntry("","","","","","","","x-rincon-queue:" + player.getUdn().getIdentifierString() + "#0");
                    player.setCurrentURI(entry);
                    player.setPositionTrack(saveState.track);
                  }
 else {
                    player.setCurrentURI(saveState.entry);
                    player.setPosition(saveState.relTime);
                  }
                  if (saveState.transportState.equals("PLAYING")) {
                    player.play();
                  }
 else                   if (saveState.transportState.equals("STOPPED")) {
                    player.stop();
                  }
 else                   if (saveState.transportState.equals("PAUSED_PLAYBACK")) {
                    player.pause();
                  }
                }
              }
            }
          }
        }
      }
      return true;
    }
 else {
      return false;
    }
  }
}
