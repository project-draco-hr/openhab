{
  boolean result=false;
  if (sonosID != null) {
    SonosZonePlayer player=sonosZonePlayerCache.get(sonosID);
    if (player != null) {
switch (sonosCommandType) {
case SETLED:
        result=player.setLed(createStringFromCommand(command,commandAsString));
      break;
case PLAY:
    result=player.play();
  break;
case STOP:
result=player.stop();
break;
case PAUSE:
result=player.pause();
break;
case NEXT:
result=player.next();
break;
case PREVIOUS:
result=player.previous();
break;
case SETVOLUME:
result=player.setVolume(commandAsString);
break;
case GETVOLUME:
break;
case ADDMEMBER:
result=player.addMember(getPlayerForID(commandAsString));
break;
case REMOVEMEMBER:
result=player.removeMember(getPlayerForID(commandAsString));
break;
case BECOMESTANDALONEGROUP:
result=player.becomeStandAlonePlayer();
break;
case SETMUTE:
result=player.setMute(commandAsString);
break;
case PA:
result=player.publicAddress();
break;
case RADIO:
result=player.playRadio(commandAsString);
break;
case SETALARM:
result=player.setAlarm(commandAsString);
break;
case SNOOZE:
result=player.snoozeAlarm(Integer.parseInt(commandAsString));
break;
case SAVE:
result=savePlayerState();
break;
case RESTORE:
result=restorePlayerState();
break;
case PLAYLIST:
result=player.playPlayList(commandAsString);
break;
case SETURI:
result=player.playURI(commandAsString);
break;
default :
break;
}
;
}
 else {
logger.error("UPNP device is not defined for Sonos Player with ID {}",sonosID);
return;
}
}
if (result) {
Type newState=null;
try {
newState=createStateForType(sonosCommandType,commandAsString);
}
 catch (BindingConfigParseException e) {
logger.error("Error parsing a value {} to a state variable of type {}",commandAsString,sonosCommandType.getTypeClass().toString());
}
if (newState != null) {
if (newState.equals((State)command) || newState instanceof StringType || newState instanceof DecimalType) {
eventPublisher.postUpdate(itemName,(State)newState);
}
 else {
eventPublisher.postUpdate(itemName,(State)command);
}
}
 else {
throw new IllegalClassException("Cannot process update for the command of type " + sonosCommandType.toString());
}
}
}
