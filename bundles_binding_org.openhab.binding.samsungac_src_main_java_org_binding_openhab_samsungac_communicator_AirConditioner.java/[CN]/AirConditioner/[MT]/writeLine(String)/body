{
  logger.debug("Sending request:'" + line + "'");
  connect();
  BufferedWriter writer;
  try {
    writer=new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
    writer.write(line);
    writer.newLine();
    writer.flush();
  }
 catch (  Exception e) {
    logger.warn("Could not write line. Disconnecting...");
    disconnect();
  }
}
