{
  logger.debug("received command {} for item {}",command,itemName);
  for (  TinkerforgeBindingProvider provider : providers) {
    for (    String itemNameP : provider.getItemNames()) {
      if (itemNameP.equals(itemName)) {
        String deviceUid=provider.getUid(itemName);
        String deviceSubId=provider.getSubId(itemName);
        String deviceName=provider.getName(itemName);
        if (deviceName != null) {
          String[] ids=getDeviceIdsForDeviceName(deviceName);
          deviceUid=ids[0];
          deviceSubId=ids[1];
        }
        logger.trace("{} found item for command: uid: {}, subid: {}",LoggerConstants.COMMAND,deviceUid,deviceSubId);
        MBaseDevice mDevice=tinkerforgeEcosystem.getDevice(deviceUid,deviceSubId);
        if (mDevice != null && mDevice.getEnabledA().get()) {
          if (command instanceof OnOffType) {
            logger.trace("{} found onoff command",LoggerConstants.COMMAND);
            if (mDevice instanceof MInSwitchActor) {
              OnOffType cmd=(OnOffType)command;
              OnOffValue state=cmd == OnOffType.OFF ? OnOffValue.OFF : OnOffValue.ON;
              ((MSwitchActor)mDevice).turnSwitch(state);
            }
 else             if (mDevice instanceof DigitalActor) {
              OnOffType cmd=(OnOffType)command;
              HighLowValue state=cmd == OnOffType.OFF ? HighLowValue.LOW : HighLowValue.HIGH;
              ((DigitalActor)mDevice).turnDigital(state);
            }
 else {
              logger.error("{} received OnOff command for non-SwitchActor",LoggerConstants.COMMAND);
            }
          }
 else           if (command instanceof StringType) {
            logger.trace("{} found string command",LoggerConstants.COMMAND);
            if (mDevice instanceof MTextActor) {
              ((MTextActor)mDevice).setText(command.toString());
            }
          }
 else           if (command instanceof DecimalType) {
            logger.debug("{} found number command",LoggerConstants.COMMAND);
            if (command instanceof HSBType) {
              logger.debug("{} found HSBType command",LoggerConstants.COMMAND);
              if (mDevice instanceof ColorActor) {
                ((ColorActor)mDevice).setColor((HSBType)command);
              }
            }
 else {
              if (mDevice instanceof NumberActor) {
                ((NumberActor)mDevice).setNumber(((DecimalType)command).toBigDecimal());
              }
            }
          }
 else {
            logger.error("{} got unknown command type: {}",LoggerConstants.COMMAND,command.toString());
          }
        }
 else         logger.error("{} no tinkerforge device found for command for item uid: {} subId: {}",LoggerConstants.COMMAND,deviceUid,deviceSubId);
      }
    }
  }
}
